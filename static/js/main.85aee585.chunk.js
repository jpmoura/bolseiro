(this.webpackJsonpbolseiro=this.webpackJsonpbolseiro||[]).push([[0],{313:function(e,t,a){"use strict";a.r(t);var n=a(5),c=a(0),r=a.n(c),o=a(13),s=a.n(o),i=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,365)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))},l=a(36),d=a(341),j=a(344),u=a(346),b=a(347),h=a(91),p=a(348),O=a(349),f=a(350),m=Object(d.a)((function(e){return{root:{marginTop:e.spacing(3)},scholarshipValue:{color:e.palette.success.main,fontWeight:"bold"},scholarshipRecipient:{textTransform:"capitalize"},scholarshipInstitution:{fontWeight:"bold"}}}));function x(e){var t=e.paymentDocument,a=m(),c=t.fase.toLowerCase();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(j.a,{className:a.root,raised:!0,children:[Object(n.jsx)(u.a,{title:"Documento ".concat(t.documentoResumido),subheader:"Em ".concat(c," no dia ").concat(t.data)}),Object(n.jsxs)(b.a,{children:[Object(n.jsxs)(h.a,{children:["Pagamento de"," ",Object(n.jsx)("span",{className:a.scholarshipValue,children:"R$".concat(t.valor)})," ","para"]}),Object(n.jsx)("br",{}),Object(n.jsx)(h.a,{className:a.scholarshipRecipient,variant:"h6",children:t.nomeFavorecido.toLowerCase()}),Object(n.jsx)("br",{}),Object(n.jsxs)(h.a,{children:["atrav\xe9s da institui\xe7\xe3o"," ",Object(n.jsx)("span",{className:a.scholarshipInstitution,children:t.orgao})]})]}),Object(n.jsx)(p.a,{children:Object(n.jsx)(O.a,{variant:"contained",color:"primary",size:"small",target:"_blank",href:"http://www.portaltransparencia.gov.br/despesas/".concat(c,"/").concat(t.documento),children:"Detalhes"})})]}),Object(n.jsx)(f.a,{})]})}var v=a(56),g=a.n(v),C=a(26),S=a(84),k=(a(192),a(352)),y=a(353),F=a(360),w=a(363),D=a(355),M=a(162),P=a(90),T=a(88),N=a(20),I=a(359),V=a(155),z=a(35),B=a.n(z),L=a(159),R=a.n(L),q=a(158),W=a.n(q),Y=a(160),_=a.n(Y),E=a(362),J=a(156),A=a.n(J),G=a(11),U=a(12),$=a(157),H=a.n($),K=function(){function e(){Object(G.a)(this,e),this.corsByPassServer="https://api.allorigins.win/get?url="}return Object(U.a)(e,[{key:"checkScholarship",value:function(){var e=Object(S.a)(g.a.mark((function e(t,a){var n,c,r,o,s,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=B()(t),c=n.daysInMonth(),r=n.year(),o=n.format("MM"),s=T.a.strip(a),e.next=7,H.a.get("".concat(this.corsByPassServer,"http://www.portaltransparencia.gov.br/despesas/favorecido/resultado?paginacaoSimples=true&tamanhoPagina=15&offset=0&direcaoOrdenacao=desc&colunaOrdenacao=valor&colunasSelecionadas=data%2CdocumentoResumido%2ClocalizadorGasto%2Cfase%2Cespecie%2Cfavorecido%2CufFavorecido%2Cvalor%2Cug%2Cuo%2Corgao%2CorgaoSuperior%2Cgrupo%2Celemento%2Cmodalidade&de=01%2F").concat(o,"%2F").concat(r,"&ate=").concat(c,"%2F").concat(o,"%2F").concat(r,"&cpfCnpj=").concat(s));case 7:return i=e.sent,e.abrupt("return",i.data.contents);case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),Q=a(351);function X(){return Object(n.jsx)(Q.a,{size:"18px",color:"inherit"})}B.a.locale("pt-br");var Z=B()().endOf("month"),ee=P.b({cpf:P.c().required("O CPF \xe9 obrigat\xf3rio").test("isCpfValid","CPF n\xe3o \xe9 v\xe1lido",(function(e){return!!e&&T.a.isValid(e)})),date:P.a().required("M\xeas e ano da bolsa s\xe3o obrigat\xf3rios").max(Z.toDate(),"Voc\xea n\xe3o pode pesquisar por datas no futuro")});function te(e){var t,a,r=e.handleSubmit,o=new K,s=Object(c.useState)({openDateDialog:!1,openSnackbar:!1,response:void 0}),i=Object(l.a)(s,2),d=i[0],j=i[1],u=Object(M.a)({initialValues:{cpf:"",date:new Date},validationSchema:ee,validateOnChange:!1,onSubmit:function(){var e=Object(S.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.checkScholarship(t.date,t.cpf);case 3:a=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a={error:e.t0.Message,data:[]};case 9:j(Object(C.a)(Object(C.a)({},d),{},{response:a,openSnackbar:!0})),r(a.data);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}),b=(null===(t=d.response)||void 0===t?void 0:t.error)||0===(null===(a=d.response)||void 0===a?void 0:a.recordsTotal)?"error":"success",h=function(){j(Object(C.a)(Object(C.a)({},d),{},{openDateDialog:!1}))};return Object(n.jsxs)(k.a,{children:[Object(n.jsx)("form",{onSubmit:u.handleSubmit,children:Object(n.jsxs)(y.a,{container:!0,spacing:2,justify:"center",children:[Object(n.jsx)(y.a,{item:!0,xs:12,children:Object(n.jsx)(y.a,{container:!0,children:Object(n.jsx)(A.a,{mask:"999.999.999-99",value:u.values.cpf,onChange:u.handleChange,children:function(){return Object(n.jsx)(F.a,{name:"cpf",label:"CPF",placeholder:"Informe o CPF do bolsista",fullWidth:!0,value:u.values.cpf,error:u.touched.cpf&&!!u.errors.cpf,helperText:u.touched.cpf&&u.errors.cpf})}})})}),Object(n.jsx)(y.a,{item:!0,xs:12,children:Object(n.jsx)(y.a,{container:!0,children:Object(n.jsx)(N.a,{locale:"pt-br",utils:V.a,children:Object(n.jsx)(I.a,{name:"date",margin:"normal",label:"M\xeas e ano da bolsa",format:"MM/yyyy",openTo:"year",cancelLabel:"Cancelar",views:["year","month"],open:d.openDateDialog,disableFuture:!0,autoOk:!0,fullWidth:!0,value:u.values.date,error:u.touched.date&&!!u.errors.date,helperText:u.touched.date&&u.errors.date,onChange:function(e){return function(e){u.setFieldValue("date",e)}(e)},onClick:function(){j(Object(C.a)(Object(C.a)({},d),{},{openDateDialog:!0}))},onAccept:h,onClose:h})})})}),Object(n.jsx)(y.a,{item:!0,children:Object(n.jsx)(y.a,{container:!0,children:Object(n.jsx)(O.a,{variant:"contained",onClick:function(){u.resetForm(),j(Object(C.a)(Object(C.a)({},d),{},{openSnackbar:!1,response:void 0})),r(void 0)},disabled:!!u.isSubmitting,startIcon:Object(n.jsx)(W.a,{}),children:"Limpar"})})}),Object(n.jsx)(y.a,{item:!0,children:Object(n.jsx)(y.a,{container:!0,children:Object(n.jsx)(O.a,{variant:"contained",type:"submit",color:"primary",disabled:!!u.isSubmitting,startIcon:u.isSubmitting?Object(n.jsx)(X,{}):Object(n.jsx)(R.a,{}),children:"Pesquisar"})})})]})}),Object(n.jsx)(w.a,{open:d.openSnackbar,children:Object(n.jsx)(E.a,{severity:b,variant:"filled",action:Object(n.jsx)(D.a,{size:"small",color:"inherit",onClick:function(){j(Object(C.a)(Object(C.a)({},d),{},{openSnackbar:!1}))},children:Object(n.jsx)(_.a,{fontSize:"small"})}),children:function(){var e;if((null===(e=d.response)||void 0===e?void 0:e.recordsTotal)&&d.response.recordsTotal>0){var t=d.response.recordsTotal>1?"s":"";return"".concat(d.response.recordsTotal," registro").concat(t," encontrado").concat(t)}var a=B()(u.values.date).format("MMMM [de] YYYY");return"Nenhum registro encontrado para o CPF ".concat(u.values.cpf," em ").concat(a)}()})})]})}var ae=a(163),ne=a(361),ce=a(358),re=a(357),oe=a(356),se=a(161),ie=a(67),le=Object(d.a)((function(e){return{root:{marginBottom:e.spacing(2)},offset:e.mixins.toolbar}}));function de(){var e=le();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(re.a,{className:e.root,children:Object(n.jsxs)(oe.a,{children:[Object(n.jsx)(D.a,{color:"inherit",children:Object(n.jsx)(ie.a,{icon:se.a})}),Object(n.jsx)(h.a,{variant:"h6",children:"Bolseiro"})]})}),Object(n.jsx)("div",{className:e.offset})]})}var je=a(109),ue=Object(d.a)((function(e){return{root:{bottom:0,top:"auto"},offset:e.mixins.toolbar}}));function be(){var e=ue();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:e.offset}),Object(n.jsx)(re.a,{className:e.root,position:"fixed",children:Object(n.jsx)(oe.a,{children:Object(n.jsxs)(y.a,{container:!0,justify:"center",children:[Object(n.jsx)(D.a,{color:"inherit",target:"_blank",href:"https://www.linkedin.com/in/mourajp/?locale=en_US",children:Object(n.jsx)(ie.a,{icon:je.b})}),Object(n.jsx)(D.a,{color:"inherit",target:"_blank",href:"https://github.com/jpmoura",children:Object(n.jsx)(ie.a,{icon:je.a})})]})})})]})}function he(e){var t=e.children,a=Object(ae.a)();return Object(n.jsx)(ne.b,{injectFirst:!0,children:Object(n.jsx)(ce.a,{theme:a,children:Object(n.jsxs)(k.a,{children:[Object(n.jsx)(de,{}),t,Object(n.jsx)(be,{})]})})})}he.defaultProps={children:null};var pe=he;function Oe(){var e=Object(c.useState)(void 0),t=Object(l.a)(e,2),a=t[0],r=t[1],o=null===a||void 0===a?void 0:a.map((function(e){return Object(n.jsx)(x,{paymentDocument:e},e.documentoResumido)}));return Object(n.jsxs)(pe,{children:[Object(n.jsx)(te,{handleSubmit:r}),o]})}s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(Oe,{})}),document.getElementById("root")),i()}},[[313,1,2]]]);
//# sourceMappingURL=main.85aee585.chunk.js.map